---
- name: Install ansible
  hosts: "workstations"
  gather_facts: false
  become: yes
  vars:
    ansible_python_interpreter: /usr/bin/python3

  tasks:
    - name: Install useful scripts for adding and removing PPAs
      ansible.builtin.apt:
        name: software-properties-common
        state: latest

    - name: add ansible repository from PPA
      ansible.builtin.apt_repository:
        repo: ppa:ansible/ansible
        codename: jammy

    - name: Get updates
      ansible.builtin.apt:
        update_cache: true

    - name: Install Ansible
      ansible.builtin.apt:
        name: ansible
        state: latest

